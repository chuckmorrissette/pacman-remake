<!DOCTYPE html>
<html>
  <head>
    <title>Pacman</title>

    <style>
      html, body {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        box-sizing: 0;
        border: 0;
        background-color: black;
        font-size: 10px;
        color: white;
      }

      * {
        padding: 0;
        margin: 0;
        box-sizing: 0;
        border: 0;
      }

      #pacman {
        position: absolute;
      }
    </style>
  </head>

  <body>
    <img id="pacman" src="../assets/images/pacman.svg">

    <script type="text/javascript">
      function mainLoop() {
        window.requestAnimationFrame(mainLoop);

        x = x + directionX;
        y = y + directionY;

        pacmanElement.style.left = x + 'px';
        pacmanElement.style.top = y + 'px';
      }

      var pacmanElement = document.getElementById('pacman');
      if (!pacmanElement)
        throw new Error('CAN NOT FIND THE SHIT!');

      var x = 0,
          y = 0,
          directionX = 0,
          directionY = 0;

      document.addEventListener('keydown', (event) => {
        if (event.code === 'ArrowLeft') {
          directionX = -1;
        } else if (event.code === 'ArrowRight') {
          directionX = 1;
        } else if (event.code === 'ArrowUp') {
          directionY = -1;
        } else if (event.code === 'ArrowDown') {
          directionY = 1;
        }
      }, true);

      window.requestAnimationFrame(mainLoop);
    </script>
  </body>
</html>
